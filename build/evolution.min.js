!function(a,b){b.evolution=a;var c=a.$$||function(a){return c[a]||(c[a]={}),c[a]},d=c("c"),e=c("i"),f=c("p");a.$$=c;var g=function(a){return Array.prototype.slice.call(a)},h=function(a){var b=g(arguments),c=b[1];"function"==typeof c?this.c[a]=c():(d[a]=b[2],d[a].$inject=c,d[a].$internal=this.i)},i=function(){h.apply({i:!1,c:a},g(arguments))},j=function(){h.apply({i:!0,c:e},g(arguments))},k=function(b,c){f[b]=!0;var g,h=c.$inject,i=[];for(var j in h)if(h.hasOwnProperty(j)&&(g=h[j],d[g])){if(f.hasOwnProperty(g))throw new Error('Cyclical reference: "'+b+'" referencing "'+g+'"');k(g,d[g]),delete d[g]}if(!a[b]&&!e[b]){for(var l in h)g=h[l],i.push(a.hasOwnProperty(g)&&a[g]||e.hasOwnProperty(g)&&e[g]);c.$internal?e[b]=c.apply(null,i)||b:a[b]=c.apply(null,i)||b}Object.defineProperty(a,"$$",{enumerable:!1,writable:!1}),delete f[b]};j("main",["cell","mouseControl","AIControl","collision"],function(a,b,c,d){function e(){return Math.random()*i}function f(){return Math.random()*j}function g(){k.clearRect(0,0,600,600);var a,b,c;for(a=0;a<l.length;a+=1)b=l[a],b.update();for(a=0;a<l.length;a+=1)b=l[a],b.speed&&(c=d(b,l),c&&(console.log("hit"),c.setTargetPoint({x:e(),y:f()}),c.update())),b.draw()}var h=document.querySelector(".evolution"),i=600,j=600;h.width=i,h.height=j;var k=h.getContext("2d"),l=[],m=a.create(k,250,250,20,2,"blue");l.push(m),b(h,m);var n=a.create(k,250,250,20,2,"red");l.push(n),c(h,n);var o=a.create(k,e(),f(),10);l.push(o);var p=a.create(k,e(),f(),10);l.push(p);var q=a.create(k,e(),f(),10);l.push(q);var r=a.create(k,e(),f(),10);l.push(r),setInterval(g,20)}),j("cell",["getAngle","getPointOnCircle"],function(a,b){function c(a,b,c,d,e,f){this.context=a,this.x=b,this.y=c,this.radius=d,this.speed=e||0,this.color=f||"green",this.lastPoint={x:b,y:c}}return c.prototype={setTargetPoint:function(a){this.lastPoint=a},update:function(){var c=this.lastPoint;if(this.speed){var d=a(this.x,this.y,c.x,c.y),e=b(this.x,this.y,this.speed,d);this.x=e.x,this.y=e.y}},draw:function(){this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle=this.color,this.context.fill(),this.context.lineWidth=5,this.context.strokeStyle="#003300",this.context.stroke()}},{create:function(a,b,d,e,f,g){return new c(a,b,d,e,f,g)}}}),i("getAngle",function(){return function(a,b,c,d){return Math.atan2(d-b,c-a)}}),i("getPointOnCircle",function(){return function(a,b,c,d){return{x:a+c*Math.cos(d),y:b+c*Math.sin(d)}}}),j("mouseControl",[],function(){function a(a,b){function c(a){d.x=a.offsetX,d.y=a.offsetY,b.setTargetPoint(d)}var d=this;d.x=0,d.y=0,a.addEventListener("mousemove",c)}return function(b,c){return new a(b,c)}}),j("AIControl",["getDistance"],function(a){function b(b,c){function d(){f.x=Math.random()*g,f.y=Math.random()*h}function e(b){var e=a(c.x,c.y,f.x,f.y);e<c.speed&&d(),c.setTargetPoint(f)}var f=this;f.x=0,f.y=0;var g=b.offsetWidth,h=b.offsetHeight;d(),setInterval(e,20)}return function(a,c){return new b(a,c)}}),i("getDistance",function(){return function(a,b,c,d){return Math.sqrt((c-=a)*c+(d-=b)*d)}}),j("collision",["getDistance"],function(a){function b(b,c){for(var d,e,f=0;f<c.length;f+=1)if(d=c[f],e=a(b.x,b.y,d.x,d.y),b!==d&&e<b.radius+d.radius)return d}return b});for(var l in d)k(l,d[l])}(this.evolution||{},function(){return this}());
//# sourceMappingURL=evolution.min.js.map